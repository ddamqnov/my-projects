package persistence;

import java.util.ArrayList;
import java.util.List;


import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

public class SimpleUserInfoDAO {
	static EntityManagerFactory factory;
	static String persistenceUnitName="login";
	static EntityManager em;

	public SimpleUserInfoDAO() {
		// TODO Auto-generated constructor stub
		factory=Persistence.createEntityManagerFactory(persistenceUnitName);
		em=factory.createEntityManager();

	}

	public List getAll(){
		javax.persistence.Query q = em.createQuery("select u from Userinfo u");
		return q.getResultList();
	}
	
    public void writeUserToDB(String user,String password){
    	em.getTransaction().begin();
    	UserInfo temp = new UserInfo();
    	temp.setUserName(user);
    	temp.setUserPassword(password);
    	em.persist(temp);
    	em.getTransaction().commit();
    }
	

}
