<!DOCTYPE html>
<html>
<head>
<link type="text/css" rel="stylesheet" href="css/bootstrap.css" />
<meta charset="UTF-8">
<title>WEB Project Login Page</title>
<script
	src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha1.js"></script>
<script src="js/jquery-1.10.2.js"></script>
<script src="js/jquery.validate.js"></script>
<script src="js/bootstrap.js"></script>
</head>
<!-- Creating dynamic login form with javascript/jquery -->
<script type="text/javascript">
	$(document).ready(function() {
		// Creating of the login form with some basic attributes

		var loginForm = document.createElement("form");
		loginForm.setAttribute("method", "POST");
		loginForm.setAttribute("class", "cmxform well span 3");
		loginForm.setAttribute("id", "loginForm");

		var uDiv = document.createElement("div");
		uDiv.setAttribute("id", "userDiv");
		uDiv.setAttribute("class", "input-group");

		var uField = document.createElement("input");
		uField.setAttribute("type", "text")
		uField.setAttribute('placeholder', 'eMail');
		uField.setAttribute('name', 'email');
		uField.setAttribute('id', 'emailField');
		uField.setAttribute("class", "form-control");

		var pDiv = document.createElement("div");
		pDiv.setAttribute("id", "passwordDiv");
		pDiv.setAttribute("class", "input-group");

		var pField = document.createElement("input");
		pField.setAttribute("type", "password")
		pField.setAttribute('placeholder', 'password');
		pField.setAttribute('name', 'password');
		pField.setAttribute('id', 'passwordField');
		pField.setAttribute("class", "form-control");

		var but = document.createElement("input");
		but.setAttribute("type", "submit");
		but.setAttribute("value", "Click Me!");
		but.setAttribute("id", "button");
		but.setAttribute("class", "btn btn-primary");

		document.body.appendChild(loginForm);
		$("#loginForm").append(uDiv);
		$("#loginForm").append(document.createElement('p'));
		$("#loginForm").append(pDiv);
		$("#userDiv").append(uField);
		$("#passwordDiv").append(pField);
		$("#loginForm").append(document.createElement('p'));
		$("#loginForm").append(but);

		$("#loginForm").validate({
			rules : {
				email : {
					required : true,
					email : true
				},
				password : {
					required : true,
					minlength : 5
				},
			},
			submitHandler : function(loginForm) {
				sendData();
			},
			invalidHandler : function(loginForm, validator) {
				alert('invalidHandler');
			},

		});

		function sendData() {

			var myArray = new Array();
			myArray[0] = uField.value;
			myArray[1] = CryptoJS.SHA1(pField.value);
			alert(myArray[0] + " " + myArray[1]);
			$.post("LoginServlet", {
				arrayData : myArray,
				mode : "insert"
			});

		}

		function getData() {
			$.get('LoginServlet', function(data) {
				alert(data);
			});
		}

	});
</script>


<script type="text/javascript">
function sendData() {

	var myArray = new Array();
	myArray[0] = "fsdfsdfsdf";
	myArray[1] = "sdfsdfsdfsdf";
	alert(myArray[0] + " " + myArray[1]);
	$.post("LoginServlet", {
		arrayData : myArray,
		mode : "insert"
	});

}

</script>
<body onload="sendData()">
</body>
</html>